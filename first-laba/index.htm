<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>События недели</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>

    <ADLIST src="./assets/planet-k2.jpg" duration=3000>
    <ADLIST src="./assets/architecture-style.webp" duration=2000>
    <ADLIST src="./assets/blue-origin-event.jpg">
    <ADLIST src="./assets/mcdonalds-bag.jpg">
    <SCRIPT LANGUAGE="JavaScript">
        var adSet = document.querySelectorAll("ADLIST");
        adSet.current = 0;
        var nextImage = document.createElement("img");
        ////////////////////////////////////////////////////////////
        function preLoad() {
        // Получение следующего изображения.
        // Если ошибка, то переход к следующему изображению
        /* Всегда переустанавливаются обработчики событий изображений перед назначением
            атрибута SRC для гарантии невозможности пропуска события*/
        nextImage.onerror = preLoad;
        nextImage.src = adSet[adSet.current].getAttribute("src");
        // Атрибут duration определяет длительность показа изображения.
        nextImage.duration = adSet[adSet.current].getAttribute("duration");
        if (null == nextImage.duration) //Если не определено, то
            nextImage.duration = 2000; // по умолчанию 2 секунды.

        if (++adSet.current == adSet.length)
            adSet.current = 0; //Стартуем снова.
        }
        ////////////////////////////////////////////////////////////
        function skipImage() {
        // Проверяется, загружено ли следующее изображение.
        if (nextImage.complete) {
            document.all.ad.src = nextImage.src;
            var duration = nextImage.duration;
            preLoad();
            window.tm = setTimeout('skipImage()', duration);
        } else {//Быстрый повтор, пока следующее изображ. не загружено.
            window.tm = setTimeout('skipImage()', 10);
        }
        }
        preLoad();
    </SCRIPT>
</head>
<body
    style="margin: 5%; color: #333" bgcolor="#f3ece7"
    onload="window.tm = setTimeout('skipImage()', 1);"
    onunload="clearTimeout(window.tm);">
    <header>
        <p align="right" style="color: grey; font-size: smaller;">
            <a href="./index.htm">Главная</a>&nbsp;|
            <a href="./task_2_1_EDS.htm">Главное событие недели</a>&nbsp;|
            <a href="./task_2_2_EDS.htm">Категории</a>&nbsp;|
            <a href="./task_2_3_EDS.htm">Георгафия событий</a>&nbsp;|
            <a href="./task_2_4_EDS.htm">Все события</a>&nbsp;|
            <a href="./task_2_5_EDS.htm">Источники</a>&nbsp;|
            <a href="./task_2_6_EDS.htm">Одним окном</a>&nbsp;|
            <a href="./task_2_7_EDS.htm">Календарь событий</a>&nbsp;|
        </p>
    </header>
    <hr>
    <h2>События недели</h2>
    <p>
        Сайт разработан в качестве первой лабораторной работы по предмету
        "Технологии Интернет Программирования" и представляет собой
        сайт для просмотра событий за неделю.
        <br>
        Для навигации по сайту достаточно перейти по ссылкам,
        указанным в заголовке каждой из страниц.
    </p>
    <hr>
    <h2>Периодически сменяющиеся изображения.</h2>
    <img id="ad" src="../first-laba/assets/mcdonalds-bag.jpg" style="width: 600px; height: 400px; object-fit: cover;">
    <br>
    <br>
    <footer>
        <p>Студент Египцев &copy2023</p>
        <hr>
    <footer>
</body>
</html>
